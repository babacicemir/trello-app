paths:
  /boards/:
    post:
      tags:
        - Boards
      summary: Create a new board
      description: Endpoint for creating a new board
      security:
        - bearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                name:
                  type: string
                  description: The name of the board
                users:
                  type: array
                  items:
                    type: object
                    properties:
                      email:
                        type: string
                        format: email
                        description: The email address of the user
                      role:
                        type: string
                        enum: [admin, member, guest]
                        description: The role of the user (admin, member, or guest)
                  description: Array of users to be added to the board
              required:
                - name
                - users
      responses:
        "201":
          description: Board created successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    description: Success message
                  data:
                    type: object
                    properties:
                      id:
                        type: string
                        description: The ID of the created board
                      name:
                        type: string
                        description: The name of the board
                      users:
                        type: array
                        items:
                          type: object
                          properties:
                            email:
                              type: string
                              description: The email address of the user
                            role:
                              type: string
                              enum: [admin, member, guest]
                              default: guest
                              description: The role of the user
        "400":
          description: Bad request
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                    description: Error message
        "401":
          description: Unauthorized
        "500":
          description: Internal server error

    get:
      summary: Get all boards
      tags:
        - Boards
      description: Endpoint to get a list of all boards
      security:
        - bearerAuth: []
      responses:
        "200":
          description: Successful operation
          content:
            application/json:
              schema:
                type: object
                properties:
                  boards:
                    type: array
                    items:
                      type: object
                      properties:
                        id:
                          type: string
                          description: The ID of the board
                        name:
                          type: string
                          description: The name of the board
                        users:
                          type: array
                          items:
                            type: object
                            properties:
                              email:
                                type: string
                                description: The email address of the user
                              role:
                                type: string
                                enum: [admin, member, guest]
                                default: guest
                                description: The role of the user
      "401":
        description: Unauthorized

  /boards/{id}:
    get:
      tags:
        - Boards
      summary: Get a board by ID
      description: Endpoint for retrieving a board by its ID
      security:
        - bearerAuth: []
      parameters:
        - in: path
          name: id
          schema:
            type: string
          description: The ID of the board
          required: true
      responses:
        "200":
          description: Board retrieved successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  id:
                    type: string
                    description: The ID of the board
                  name:
                    type: string
                    description: The name of the board
                  users:
                    type: array
                    items:
                      type: object
                      properties:
                        email:
                          type: string
                          description: The email address of the user
                        role:
                          type: string
                          enum: [admin, member, guest]
                          description: The role of the user
        "400":
          description: Bad request
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                    description: Error message
        "404":
          description: Board not found
        "401":
          description: Unauthorized

  /boards/{id}/join/{code}:
    get:
      summary: Accept invite
      tags:
        - Boards
      description: Accept an invitation to join a board
      parameters:
        - in: path
          name: id
          schema:
            type: string
          description: The board id
        - in: path
          name: code
          schema:
            type: string
          description: The invitation code
      responses:
        "200":
          description: Invitation accepted successfully
          content:
            application/json:
              schema:
                type: string
                description: Success message
        "400":
          description: Bad request or already accepted invite
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                    description: Error message
        "401":
          description: Unauthorized
